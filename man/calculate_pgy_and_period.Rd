% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/period_calculation.R
\name{calculate_pgy_and_period}
\alias{calculate_pgy_and_period}
\title{Calculate Current PGY Year and Self-Evaluation Period}
\usage{
calculate_pgy_and_period(
  grad_yr,
  type = "Categorical",
  current_date = Sys.Date()
)
}
\arguments{
\item{grad_yr}{Numeric. Year of expected graduation (e.g., 2026)}

\item{type}{Character. Residency type: "Categorical" or "Preliminary"}

\item{current_date}{Date. Current date for calculation (default: Sys.Date())}
}
\value{
List with elements:
\item{pgy_year}{Numeric. Current PGY year (1, 2, or 3)}
\item{period_number}{Numeric. Self-evaluation period number (7, 1-6, or NA)}
\item{period_name}{Character. Self-evaluation period name}
\item{academic_year}{Character. Current academic year (e.g., "2024-2025")}
\item{months_into_year}{Numeric. Months into current academic year}
\item{is_valid}{Logical. TRUE if resident is currently in training}
}
\description{
Determines resident's current PGY year and appropriate self-evaluation period
based on graduation year, residency type, and current date within academic year.
}
\details{
Self-evaluation periods (note: starts at 7, not 0):
\itemize{
\item 7 = Entering Residency (July 1 - Sept 30, PGY1)
\item 1 = Mid Intern (Oct 1 - Jan 31, PGY1)
\item 2 = End Intern (Feb 1 - June 30, PGY1)
\item 3 = Mid PGY2 (Oct 1 - Jan 31, PGY2)
\item 4 = End PGY2 (Feb 1 - June 30, PGY2)
\item 5 = Mid PGY3 (Oct 1 - Jan 31, PGY3)
\item 6 = Graduating (Feb 1 - June 30, PGY3)
}

Preliminary residents only experience periods 7, 1, 2.
After graduation, period_number = NA and is_valid = FALSE.
}
\examples{
# Categorical resident graduating 2026, checked in December 2024
calculate_pgy_and_period(2026, "Categorical", as.Date("2024-12-15"))
# Returns: PGY2, period 3 (Mid PGY2)

# Preliminary resident graduating 2025, checked in January 2025
calculate_pgy_and_period(2025, "Preliminary", as.Date("2025-01-15"))
# Returns: PGY1, period 1 (Mid Intern)

# Recent graduate (after June 30)
calculate_pgy_and_period(2024, "Categorical", as.Date("2024-08-01"))
# Returns: Graduated, period NA, is_valid = FALSE
}
